function createSuggestList(e){clearSuggestList(),showSuggestList();{var t=AllViews.searchList;AllViews.searchBar}if("undefined"==typeof t){var i=createSearchListItemTemplate(),t=Ti.UI.createListView({top:"50dp",left:10,width:"80%",templates:{plain:i},defaultItemTemplate:"plain"});t.addEventListener("itemclick",function(e){if("rowtitle"==e.bindId||"pic"==e.bindId){var t=e.section.getItemAt(e.itemIndex);Ti.API.info("clicked :"+JSON.stringify(t)),"undefined"!=typeof t.rowtitle.id&&changeDestination(JSON.parse(t.rowtitle.id)),hideSuggestList()}hideKeyboard()})}for(var r=[],n=Ti.UI.createListSection({headerTitle:"Online",width:Ti.UI.FILL}),a=[],o=0;o<e.length;o++){var s={pic:{image:Ti.App.Android.R.drawable.place_32.png},rowtitle:{text:e[o].addr,id:e[o].point,color:"black"},dist:{text:"dist:",color:"gray"},properties:{backgroundColor:"rgba(192,192,192,192)"}};a.push(s)}n.setItems(a),r.push(n),t.sections=r,showSuggestList(),win.add(t),AllViews.searchList=t}function createSearchListItemTemplate(){var e={childTemplates:[{type:"Ti.UI.ImageView",bindId:"pic",properties:{left:"2dp",image:Ti.App.Android.R.drawable.place_32.png}},{type:"Ti.UI.Label",bindId:"rowtitle",properties:{left:"40dp"}},{type:"Ti.UI.Label",bindId:"dist",properties:{right:"10dp"}}]};return e}function clearSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.removeAllChildren()}function hideSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.hide()}function showSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.show()}function hideKeyboard(){var e=AllViews.searchBar;"undefined"!=typeof e&&e.blur()}function createAndroidSearchBar(){var e=Ti.UI.Android.createSearchView({backgroundColor:"rgba(128,128,128,128)",color:"black",width:"80%",top:0,left:10}),t=function(e){Ti.API.info(JSON.stringify(e)),e.source.value.length>1?searchAddressGoogle(e.source.value,"nz"):hideSuggestList()};e.addEventListener("change",t),e.addEventListener("submit",t),AllViews.searchBar=e,win.add(e)}function createIosSearchBar(){var e=Titanium.UI.createSearchBar({width:"80%",showCancel:!0,height:45,top:5,left:10});Ti.API.info("searchbar created"),win.add(e)}