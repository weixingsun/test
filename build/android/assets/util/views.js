function createPlaceView(){var e=Ti.UI.createView({backgroundColor:"rgba(128,128,128,128)",width:"100%",height:"20%",layout:"vertical",id:"pop",bottom:0});return e.visible=!1,createRows(e),win.add(e),AllViews[e.id]=e,e}function createRows(e){var t=Ti.UI.createView({height:"60%",layout:"horizontal"}),i=Ti.UI.createView({height:"40%",layout:"horizontal"});e.add(t),e.add(i),createTopColumns(t),createBottomColumns(i)}function createTopColumns(e){{var t=Ti.UI.createView({width:"50%"}),i=Ti.UI.createView({width:"30%"}),r=Ti.UI.createView({width:"20%"}),n=Ti.App.Android.R.drawable.sedan_128;createCarImage(r,n)}createNameLabel(t),e.add(t),e.add(i),e.add(r)}function createNameLabel(e){var t=Ti.App.Properties.getDouble("dest_lat"),i=Ti.App.Properties.getDouble("dest_lng"),r="["+t+","+i+"]",n=Ti.UI.createLabel({color:"#900",font:{fontSize:20},shadowColor:"#aaa",shadowOffset:{x:5,y:5},shadowRadius:3,text:r,textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,top:10,width:Ti.UI.SIZE,height:Ti.UI.SIZE});e.add(n)}function createBottomColumns(e){{var t=Ti.UI.createView({width:"12%"}),i=Ti.UI.createView({width:"10%"}),r=Ti.UI.createView({width:"10%"}),n=(Ti.UI.createView({width:"10%"}),Ti.App.Android.R.drawable.close_64),a=Ti.App.Android.R.drawable.search_64,o=Ti.App.Android.R.drawable.parking_64,d=createImages(t,n);createImages(i,a),createImages(r,o)}d.addEventListener("click",function(e){e.source.parent.parent.parent.hide(),removePrevDestMarker(map);var t=Ti.App.Properties.getInt("route");0!==t&&map.removeLayer(t)}),e.add(t),e.add(i),e.add(r)}function createImages(e,t){var i=Titanium.UI.createImageView({image:t});return e.add(i),i}function createCarImage(e,t){var i=Titanium.UI.createImageView({image:t});e.add(i),i.addEventListener("click",function(){var e=Ti.App.Properties.getDouble("dest_lat"),t=Ti.App.Properties.getDouble("dest_lng"),i=Ti.App.Properties.getDouble("gps_lat"),r=Ti.App.Properties.getDouble("gps_lng"),n=[i,r],a=[e,t];Ti.API.info("mf="+mf+",map="+map+",from="+n+",to="+a),navi(mf,map,n,a)})}function createAndroidSearchBar(){var e=Ti.UI.Android.createSearchView({backgroundColor:"rgba(128,128,128,128)",color:"black",width:"80%",top:0,left:10});e.addEventListener("change",function(e){Ti.API.info("search:"+e.source.value)}),e.addEventListener("return",function(){e.blur()}),win.add(e)}function createIosSearchBar(){var e=Titanium.UI.createSearchBar({width:"80%",showCancel:!0,height:43,top:5,left:10});e.addEventListener("change",function(e){e.value}),e.addEventListener("return",function(){e.blur()}),e.addEventListener("cancel",function(){e.blur()}),Ti.API.info("searchbar created"),win.add(e)}