function createSuggestList(e){clearSuggestList(),showSuggestList();var t=AllViews.searchList,i=AllViews.searchBar;if("undefined"==typeof t){var t=Ti.UI.createListView({top:50,left:10,width:"80%",height:Ti.UI.SIZE});t.addEventListener("itemclick",function(e){var t=e.itemId;Ti.API.info("clicked on :"+t),changeDestination(JSON.parse(t)),hideSuggestList(),i.blur()})}for(var r=[],n=Ti.UI.createListSection({headerTitle:"Online",width:Ti.UI.FILL}),a=[],o=0;o<e.length;o++){var s={properties:{title:e[o].addr,itemId:e[o].point,color:"black",height:40,width:Ti.UI.FILL,horizontalWrap:!1,backgroundColor:"rgba(192,192,192,192)",wordWrap:!1}};a.push(s)}n.setItems(a),r.push(n),t.sections=r,showSuggestList(),win.add(t),AllViews.searchList=t}function clearSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.removeAllChildren()}function hideSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.hide()}function showSuggestList(){var e=AllViews.searchList;"undefined"!=typeof e&&e.show()}function createAndroidSearchBar(){var e=Ti.UI.Android.createSearchView({backgroundColor:"rgba(128,128,128,128)",color:"black",width:"80%",top:0,left:10});e.addEventListener("change",function(e){Ti.API.info("search:"+e.source.value),e.source.value.length>2?searchAddressGoogle(e.source.value,"nz"):hideSuggestList()}),e.addEventListener("return",function(t){t.source.value.length>2&&searchAddressGoogle(t.source.value,"nz"),e.blur()}),AllViews.searchBar=e,win.add(e)}function createIosSearchBar(){var e=Titanium.UI.createSearchBar({width:"80%",showCancel:!0,height:45,top:5,left:10});e.addEventListener("change",function(e){e.value}),e.addEventListener("return",function(){e.blur()}),e.addEventListener("cancel",function(){e.blur()}),Ti.API.info("searchbar created"),win.add(e)}