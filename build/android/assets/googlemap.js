function initWindow(){return Ti.UI.createWindow()}function initWindowEvent(i){i.addEventListener("focus",function(){hideBar(i);createPlaceView()})}function hideBar(i){var e=i.activity.actionBar;"undefined"!=typeof e&&e.hide()}function initGoogleModule(){return require("ti.map")}function initGraphhopperModule(){return require("ti.mapsforge")}function initGoogleMap(i,e){var t=Ti.App.Properties.getDouble("gps_lng",0),n=Ti.App.Properties.getDouble("gps_lat",0),o=e.createView({userLocation:!0,mapType:e.NORMAL_TYPE,region:{latitude:n,longitude:t,latitudeDelta:.1,longitudeDelta:.1},height:"100%",width:"100%",top:0,left:0});return addGmapActionListeners(o),i.add(o),i.open(),o}function addGmapActionListeners(i){i.addEventListener("click",function(i){var e=i.longitude,t=i.latitude;Ti.API.info("map.clicked:"+t+","+e)}),i.addEventListener("longclick",function(i){var e={lat:i.latitude,lng:i.longitude},t=getCurrentPosDict();addGoogleMarker(e.lat,e.lng,Ti.App.Android.R.drawable.marker_tap),naviGoogle(module,t,e)}),i.addEventListener("complete",function(){Ti.API.info("map load complete")})}function addGoogleMarker(i,e,t){var n={latitude:i,longitude:e,animate:!0,image:t,draggable:!0},o=module.createAnnotation(n);map.addAnnotation(o)}function addGoogleRoute(i){map.addRoute(i)}function removeGoogleMarker(){}function removeGoogleRoute(i){map.removeRoute(i)}var map_type="google.normal";initVars(map_type);var win=initWindow();initWindowEvent(win);var module=initGoogleModule(),graph=initGraphhopperModule(),map=initGoogleMap(win,module);initNav(graph);