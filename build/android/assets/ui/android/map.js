function initWindowEvent(i){i.addEventListener("focus",function(){hideBar(i);var e=createPlaceView();Ti.App.Properties.setObject("pop",e)})}function hideBar(i){var e=i.activity.actionBar;"undefined"!=typeof e&&e.hide()}function initWindow(){return Ti.UI.createWindow()}function initModule(){return require("ti.mapsforge")}function initMap(i,e){var n=Ti.App.Properties.getDouble("gps_lng",0),t=Ti.App.Properties.getDouble("gps_lat",0),a=e.createMapsforgeView({scalebar:!0,minZoom:5,maxZoom:20,centerLatlng:[t,n],zoomLevel:16,debug:!1});return i.add(a),i.open(),a}function move(i){map.centerLatlng=i}function animateTo(i){map.animateTo(i)}function addOfflineMapLayer(i){i.addLayer({name:"osm",path:"osmdroid/maps/nz/nz.map"})}function initNav(i){i.load("/osmdroid/maps/nz/")}function initMapListener(i,e,n){Ti.App.addEventListener("viewCreated",function(){Ti.API.info("mapCreated: received by js"),addOfflineMapLayer(n),addActionListeners(e,n),initGPS()})}initVars();var win=initWindow();initWindowEvent(win);var mf=initModule(),map=initMap(win,mf);initMapListener(win,mf,map),initNav(mf),appEventListeners(),createAndroidSearchBar();